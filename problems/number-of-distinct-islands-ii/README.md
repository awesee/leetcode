<!--|This file generated by command(leetcode description); DO NOT EDIT.    |-->
<!--+----------------------------------------------------------------------+-->
<!--|@author    openset <openset.wang@gmail.com>                           |-->
<!--|@link      https://github.com/openset                                 |-->
<!--|@home      https://github.com/openset/leetcode                        |-->
<!--+----------------------------------------------------------------------+-->

[< Previous](../random-pick-with-blacklist "Random Pick with Blacklist")
　　　　　　　　　　　　　　　　
[Next >](../minimum-ascii-delete-sum-for-two-strings "Minimum ASCII Delete Sum for Two Strings")

## [711. Number of Distinct Islands II (Hard)](https://leetcode.com/problems/number-of-distinct-islands-ii "不同岛屿的数量 II")

<p>Given a non-empty 2D array <code>grid</code> of 0's and 1's, an <b>island</b> is a group of <code>1</code>'s (representing land) connected 4-directionally (horizontal or vertical.)  You may assume all four edges of the grid are surrounded by water.</p>

<p>Count the number of <b>distinct</b> islands.  An island is considered to be the same as another if they have the same shape, or have the same shape after <b>rotation</b> (90, 180, or 270 degrees only) or <b>reflection</b> (left/right direction or up/down direction).</p>

<p><b>Example 1:</b><br />
<pre>
11000
10000
00001
00011
</pre>
Given the above grid map, return <code>1</code>.
<br><br>
Notice that:
<pre>
11
1
</pre>
and
<pre>
 1
11
</pre>
are considered <b>same</b> island shapes. Because if we make a 180 degrees clockwise rotation on the first island, then two islands will have the same shapes.
</p>

<p><b>Example 2:</b><br />
<pre>
11100
10001
01001
01110</pre>
Given the above grid map, return <code>2</code>.<br />
<br>
Here are the two distinct islands:
<pre>
111
1
</pre>
and
<pre>
1
1
</pre>
<br />
Notice that:
<pre>
111
1
</pre>
and
<pre>
1
111
</pre>
are considered <b>same</b> island shapes. Because if we flip the first array in the up/down direction, then they have the same shapes.
</p>

<p><b>Note:</b>
The length of each dimension in the given <code>grid</code> does not exceed 50.
</p>

### Related Topics
  [[Depth-first Search](../../tag/depth-first-search/README.md)]
  [[Hash Table](../../tag/hash-table/README.md)]

### Similar Questions
  1. [Number of Distinct Islands](../number-of-distinct-islands) (Medium)
